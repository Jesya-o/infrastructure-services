# General
github_username: Jesya-o
startup_name: "epy.io"
vm_names: 
  - "{{ github_username }}-1"
  - "{{ github_username }}-2"
  - "{{ github_username }}-3"

# MySQL
mysql_host: "{{ groups['db_servers'][0] }}"
mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32626165343538313464373533636535366461353239383438646539353034333839366661343333
          3734663535633739653230386162383566356236323537610a316333323834646635653331653930
          36343434393836333964636530326233396130616530346464353834303862326237346136373632
          3734363037306635640a353462393363393339363537353330353264353765656263323833363062
          6538
mysql_exporter_user: meu
mysql_exporter_password:  !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31313966663436383339376466313061646530623035663433343637323630353836633661316331
          3161333964396263363234306630646433383239316562310a396435613836306537376364366632
          38323633383962383733323538383264346233323262633930376536643432633837653134653162
          6665636338363636320a643334346466616534326266363862373932323061633962636437383365
          3062
mysql_backup_user_password: !vault | 
          $ANSIBLE_VAULT;1.1;AES256
          62303866633664353734383337666636613931643033626461366266653633323331386135303134
          6562326633343033373863373438613566646630353665310a636435613661663263336338383461
          31316138643461393230396439376639643035376462306330323865393739393934336537343363
          6234396637666336350a656561643433306338393730393230313363663163333162613430653838
          35653037313264363734326434303264333464373666306165313665393463343830

mysql_replica_user: replication
mysql_replica_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36646439326134643834396439373330653232663464333236633533333332346165336162376264
          3337366131636130386635326561313135396634313764350a326230643431643730346539653863
          37346133373138323764663364656233356237333863633933343937613032633065383335346262
          3935316334386561650a663962666336373466333237366530396462633531643065306361623336
          3633

# DNS, Nginx
dns_allowed_networks:
  - "192.168.42.0/23"
  - "127.0.0.0/8"
  - "172.17.0.0/16"
dns_forwarders:
  - 8.8.8.8
  - 1.1.1.1
  - 9.9.9.9

zone_dir: "/var/cache/bind"
zone_file_path: "{{ zone_dir }}/db.{{ startup_name }}"
named_conf_file_path: "/etc/bind/named.conf.options"
named_conf_local_file_path: "/etc/bind/named.conf.local"

transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61623137346134313835343830383262386565653465636562353239306530373666366235306532
          3966373264353763393233326562633865326662626536330a633266333832383065653837663534
          61343164623031663134333465656565613361636537303435306361356531303233663235323733
          3564353939383235640a346535613364366566626432633963666233363061306635383534336636
          32653763623236323064656336326263326239623462363365373630656535386366343233626136
          3863636134643965633062653565376661366566616534646331

nsupdate_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          33656235613463633862656634356433373466623838643366386431333362333863316337633538
          3634373138333362613635306562653430303964353238370a623662373464306665346466666638
          65303930363439333630636266353265643164663163316637333030343739303230343365343463
          3361383430323131330a636438373735386333613639643535393435393231313034613165326431
          36613330633935343336636138353366333561383531646663333838353531623339396264366136
          3334323065333236376337363632303437333465306466383831

a_records:
  backup: "{{ backup_server_ip }}"

dns_cname_records:
  grafana: "{{ groups['grafana'][0] }}"
  influxdb: "{{ groups['influxdb'][0] }}"
  lb1: "{{ groups['high_availability_servers'][0] }}"
  lb2: "{{ groups['high_availability_servers'][1] }}"
  mysql1: "{{ groups['db_servers'][0] }}"
  mysql2: "{{ groups['db_servers'][1] }}"
  ns1: "{{ groups['dns_servers'][0] }}"
  ns2: "{{ groups['dns_servers'][1] }}"
  prometheus: "{{ groups['prometheus'][0] }}"
  www1: "{{ groups['web_servers'][0] }}"
  www2: "{{ groups['web_servers'][1] }}"

reverse_zone: 168.192.in-addr.arpa

# Grafana
grafana_user: Jesya-o
grafana_pwd: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          32643164333233393962633161396165666434326238633639666562346535623866376637663462
          6231306433613030616538653236613137623433326138300a646266363031643537313463636239
          33363134643734656531393234636464636163343566303663353533343836393133373266346439
          6534313965663836310a383163303662303563633261613039336131363961353062613430633734
          3632
grafana_port: 3001

#Prometheus
prometheus: prometheus

# Agama
agama_path: /opt/agama/
agama_port: 8000
agama_containers_per_host: 2

#Telegraf, InfluxDB
pinger_user: pinger
pinger_db_name: influx_db
pinger_db_url: http://influxdb.{{ startup_name }}:8086

influxdb: influxdb
influxdb_udp: udp://localhost:8089

telegraf_db_name: udp
telegraf_udp_port: 10514

# Backup
backup_user: backup
backup_server_ip: 192.168.42.132
backup_server_public_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90

node_id: "{{ (ansible_port / 100) | int }}"

# Keepalived
virtual_router_id: 11
ha_port: 88
