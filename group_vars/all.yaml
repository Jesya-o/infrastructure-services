# General
github_username: Jesya-o
startup_name: "epy.io"
vm_names: 
  - "{{ github_username }}-1"
  - "{{ github_username }}-2"
  - "{{ github_username }}-3"

# MySQL
mysql_host: "{{ groups['db_servers'][0] }}"
mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64616561626563393263613939663263383738323230643336333833633334323536613035616239
          6262303530363231623539363163613735636135353265310a633838383562363835313364363333
          63336237346338383663393030333438336565393632343564386632353864313237363066613162
          6562616432653466380a653835393532313238623334363462306262313033366539393530383030
          3439
mysql_exporter_user: meu
mysql_exporter_password:  !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34353633343133306433616133663038313464386566336139643062393535663864643538326231
          3564613861363934653131363465653330303631646438650a326662316238333131613331383534
          35303432306334666462343137656631363662616631316365653962636265333163633937363633
          3361326530646166620a376662323964303536366232363264666263323561663832623831326238
          3339
mysql_backup_user_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66323534383933336537656464613034366663393436326135646463353731633262633937353930
          6239306539633364326133303630333863613363353762350a303133376438373535306137373030
          34396161636566303133633535666334336334323835653963376164303931326561363165323037
          6563326239616433360a356561353665323531363165333962313261313563353839643339316434
          3633

mysql_replica_user: replication
mysql_replica_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          34396134653438396533396437643562323737363833323036346635656263396339363634333732
          3163663831363136656266643761313633333839626336620a643436663731396365626534633237
          62346266333530316237373936633864646664386335663166383831373461663566376461663633
          6436333264363761370a626436346434636432653939386366626262306639393231396337313966
          3839

# DNS, Nginx
dns_allowed_networks:
  - "192.168.42.0/23"
  - "127.0.0.0/8"
  - "172.17.0.0/16"
dns_forwarders:
  - 8.8.8.8
  - 1.1.1.1
  - 9.9.9.9

zone_dir: "/var/cache/bind"
zone_file_path: "{{ zone_dir }}/db.{{ startup_name }}"
named_conf_file_path: "/etc/bind/named.conf.options"
named_conf_local_file_path: "/etc/bind/named.conf.local"

transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63346236323866343037303063663634303035623165356163356565323530356464666566393831
          3161316137396537353161386161333866623938643338390a393339626231313338623262393163
          32653466663564336439663666373337346561653166313633386239396461383661366630326437
          6366613366626632630a353236623933303136613533663763373731356534333862313638373737
          38653933376237383861393237656364316332356162666266653633383665386634663265663533
          3662323038313638666434643462366136666362333835363136

nsupdate_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61346265353136396238623264323437653836643231373130646534363964343139376133663538
          3738386434323135306239363033633231663366303366390a373165343430316538346266356635
          33383561616538643332383334303164653535333164613761653836396335343238363334353137
          3766613338643237620a303330386332346235656664616338383362643537616137656664386335
          39616231383231613439343833386635626630646536653739306333333032616562356135386663
          6664333762616230373361316533623864613030653238376361

a_records:
  backup: "{{ backup_server_ip }}"

dns_cname_records:
  grafana: "{{ groups['grafana'][0] }}"
  influxdb: "{{ groups['influxdb'][0] }}"
  lb1: "{{ groups['high_availability_servers'][0] }}"
  lb2: "{{ groups['high_availability_servers'][1] }}"
  mysql1: "{{ groups['db_servers'][0] }}"
  mysql2: "{{ groups['db_servers'][1] }}"
  ns1: "{{ groups['dns_servers'][0] }}"
  ns2: "{{ groups['dns_servers'][1] }}"
  prometheus: "{{ groups['prometheus'][0] }}"
  www1: "{{ groups['web_servers'][0] }}"
  www2: "{{ groups['web_servers'][1] }}"

reverse_zone: 168.192.in-addr.arpa

# Grafana
grafana_user: Jesya-o
grafana_pwd: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36663636636263653231623864353939393765633632643935393030336637383466313131613966
          3461343333303434386237333866353931346430336535370a316463326630643933356263636463
          63653039656133626263663161626335653138303639366137323035363939663861393134613961
          3561376365616638660a666230393235633965346663613034333263353063356331643939643033
          3632
grafana_port: 3001

# Agama
agama_path: /opt/agama/
agama_port: 8000
agama_containers_per_host: 2

#Telegraf, InfluxDB
pinger_user: pinger
pinger_db_name: influx_db
pinger_db_url: http://influxdb.{{ startup_name }}:8086

influxdb: influxdb
influxdb_udp: udp://localhost:8089

telegraf_db_name: udp
telegraf_udp_port: 10514

# Backup
backup_user: backup
backup_server_ip: 192.168.42.132
backup_server_public_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90

node_id: "{{ (ansible_port / 100) | int }}"

# Keepalived
virtual_router_id: 11
ha_port: 88
