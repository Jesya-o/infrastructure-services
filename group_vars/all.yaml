# General
github_username: Jesya-o
startup_name: "epy.io"
vm_names: 
  - "{{ github_username }}-1"
  - "{{ github_username }}-2"
  - "{{ github_username }}-3"

# MySQL
mysql_host: "{{ groups['db_servers'][0] }}"
mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65373266626430613831346339333736303932303836646264643734376461383336303832393535
          3236636265393337336266383132393461353466313830650a343431336661373833663466363231
          31346465306431363035656634373139646237363033313861323630393035633965663937373733
          3937653063356663630a336530613361346365356665393462316364653135333639373664666334
          3830
mysql_exporter_user: meu
mysql_exporter_password:  !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35623236333834303261343531386239353131323830313032313434613261343533376462613264
          3332663932393133633763326261343537663733353730390a343064613962363836326630343665
          38636336633637323462366465383931363032393335346130306566336335643936613965663065
          3230623365306530310a326137653765373764323762663532666564383131373861333630653835
          31666235656361323930656135346238313136343666653961653431326638393031
mysql_backup_user_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          39653233396236646435643139656133626233323032313235363866323130623263623133636230
          6161363933303434376334393666633064313832636234340a616463396362633637643332313466
          64613462333762303531363531336333663361663233326233303263666265326264366665643362
          6633663433643366390a306631333662393230633936303334333765363934386464666139326233
          37323330626439663464313133633938643435313164623339326361333832616266

mysql_replica_user: replication
mysql_replica_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61316636613231333332353564653039653863386365336639643334616536363238303064316461
          3834383864653139663638366663653365353161376363310a303165353765666136376438343063
          62616534616235303963326166313032363030316361663539363961323134643331653462376565
          3239323830643032640a326266353434346132366332623063643333366465653837616364323230
          62666362343362643635636638393134666430663261356234653834326232346536

# DNS, Nginx
dns_allowed_networks:
  - "192.168.42.0/23"
  - "127.0.0.0/8"
  - "172.17.0.0/16"
dns_forwarders:
  - 8.8.8.8
  - 1.1.1.1
  - 9.9.9.9

zone_dir: "/var/cache/bind"
zone_file_path: "{{ zone_dir }}/db.{{ startup_name }}"
named_conf_file_path: "/etc/bind/named.conf.options"
named_conf_local_file_path: "/etc/bind/named.conf.local"

transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65316336303164323461623066363738663730393766386561303330316231613535363739316331
          6466663434376230393237393039633631393166303131320a613863373765313363316430376636
          35303763653634373337363137653663623063383061333330376330656634376136326166643434
          3938313231333436360a336630663531623532353035323662313835633135633430366437353966
          6532

nsupdate_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30323961336562386264623232613533653032616163396363386638326630643162383366663435
          3231326561323338636432626532663332396539623337370a313364333337323735666137666634
          38393963306536363839643231366437313562373432636136346638323061373438623966613830
          3738613664363662620a383131623837323862613930323737653465643335303266356537376535
          3732

a_records:
  backup: "{{ backup_server_ip }}"

dns_cname_records:
  grafana: "{{ groups['grafana'][0] }}"
  influxdb: "{{ groups['influxdb'][0] }}"
  lb1: "{{ groups['high_availability_servers'][0] }}"
  lb2: "{{ groups['high_availability_servers'][1] }}"
  mysql1: "{{ groups['db_servers'][0] }}"
  mysql2: "{{ groups['db_servers'][1] }}"
  ns1: "{{ groups['dns_servers'][0] }}"
  ns2: "{{ groups['dns_servers'][1] }}"
  prometheus: "{{ groups['prometheus'][0] }}"
  www1: "{{ groups['web_servers'][0] }}"
  www2: "{{ groups['web_servers'][1] }}"

reverse_zone: 168.192.in-addr.arpa

# Grafana
grafana_user: Jesya-o
grafana_pwd: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65353365393038336634656466366335663734653637643631303339353031363136653938663937
          3235656536376564636330353932666536326131343137350a656331343235373763616662633064
          36626332316131343663626432653837636536376662653364336336626334303130353731336462
          3261643661303131650a646366623631366161343464393832663633643237633735306261623630
          6233
grafana_port: 3001

#Prometheus
prometheus: prometheus

# Agama
agama_path: /opt/agama/
agama_port: 8000
agama_containers_per_host: 2

#Telegraf, InfluxDB
pinger_user: pinger
pinger_db_name: influx_db
pinger_db_url: http://influxdb.{{ startup_name }}:8086

influxdb: influxdb
influxdb_udp: udp://localhost:8089

telegraf_db_name: udp
telegraf_udp_port: 10514

# Backup
backup_user: backup
backup_server_ip: 192.168.42.132
backup_server_public_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90

node_id: "{{ (ansible_port / 100) | int }}"

# Keepalived
virtual_router_id: 11
ha_port: 88
