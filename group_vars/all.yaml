# General
github_username: Jesya-o
startup_name: "epy.io"
vm_names: 
  - "{{ github_username }}-1"
  - "{{ github_username }}-2"
  - "{{ github_username }}-3"

# MySQL
mysql_host: "{{ groups['db_servers'][0] }}"
mysql_backup_host: "{{ groups['db_servers'] | reject('eq', mysql_host) | first | default(mysql_host) }}"
mysql_database: agama
mysql_user: agama
mysql_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65653339303935346237363039653134376431336332366134353932663564353865313031623930
          6364383537386462356266643038623739643030353930660a646639653261623332666462613061
          62373135366336346432326631343638323139373964323535656334663663616139613663363263
          6130653162633063620a376336663731303461306239356437623962636364636637316165663934
          3165
mysql_exporter_user: meu
mysql_exporter_password:  !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63333039663734366430336635323939373765326238666330623839366265643733313233373038
          3436353665636234626639663963633965613734393038620a303032646263336261316637306533
          39613038313263356662376130326538303465623464333165333766326330623164353337353538
          3335353732346332340a353733363535623239353036636530313264623166386561346330353538
          6230
mysql_backup_user_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30363863376663623332643036643263616234666566383963366630383037616537663639393865
          6266616261393535373063313934663732333739363265630a626537623962353939393633316466
          66303135346239643066346666393130306663366436303562653965636661373937303930643039
          3961373163633939640a393561333534356632623734343561316366333233343264623435396437
          3833

mysql_replica_user: replication
mysql_replica_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65313737353261643937353166643233396464386436373865386465303236303930646261656139
          6138636637393666323963303836623835393539376634330a346163636161646634613265323562
          31343531386530653566363137616166333737653565376132393262393238366633313936666262
          3730666637333763300a366636303239323030396564653335393936336431313634656566626233
          3632

# DNS, Nginx
dns_allowed_networks:
  - "192.168.42.0/23"
  - "127.0.0.0/8"
  - "172.17.0.0/16"
dns_forwarders:
  - 8.8.8.8
  - 1.1.1.1
  - 9.9.9.9

zone_dir: "/var/cache/bind"
zone_file_path: "{{ zone_dir }}/db.{{ startup_name }}"
named_conf_file_path: "/etc/bind/named.conf.options"
named_conf_local_file_path: "/etc/bind/named.conf.local"

transfer_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63346236323866343037303063663634303035623165356163356565323530356464666566393831
          3161316137396537353161386161333866623938643338390a393339626231313338623262393163
          32653466663564336439663666373337346561653166313633386239396461383661366630326437
          6366613366626632630a353236623933303136613533663763373731356534333862313638373737
          38653933376237383861393237656364316332356162666266653633383665386634663265663533
          3662323038313638666434643462366136666362333835363136

nsupdate_key: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          61346265353136396238623264323437653836643231373130646534363964343139376133663538
          3738386434323135306239363033633231663366303366390a373165343430316538346266356635
          33383561616538643332383334303164653535333164613761653836396335343238363334353137
          3766613338643237620a303330386332346235656664616338383362643537616137656664386335
          39616231383231613439343833386635626630646536653739306333333032616562356135386663
          6664333762616230373361316533623864613030653238376361

a_records:
  backup: "{{ backup_server_ip }}"

dns_cname_records:
  grafana: "{{ groups['grafana'][0] }}"
  influxdb: "{{ groups['influxdb'][0] }}"
  lb1: "{{ groups['high_availability_servers'][0] }}"
  lb2: "{{ groups['high_availability_servers'][1] }}"
  mysql1: "{{ groups['db_servers'][0] }}"
  mysql2: "{{ groups['db_servers'][1] }}"
  ns1: "{{ groups['dns_servers'][0] }}"
  ns2: "{{ groups['dns_servers'][1] }}"
  prometheus: "{{ groups['prometheus'][0] }}"
  www1: "{{ groups['web_servers'][0] }}"
  www2: "{{ groups['web_servers'][1] }}"

reverse_zone: 168.192.in-addr.arpa

# Grafana
grafana_user: Jesya-o
grafana_pwd: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          36663636636263653231623864353939393765633632643935393030336637383466313131613966
          3461343333303434386237333866353931346430336535370a316463326630643933356263636463
          63653039656133626263663161626335653138303639366137323035363939663861393134613961
          3561376365616638660a666230393235633965346663613034333263353063356331643939643033
          3632
grafana_port: 3001

#Prometheus
prometheus: prometheus

# Agama
agama_path: /opt/agama/
agama_port: 8000
agama_containers_per_host: 2

#Telegraf, InfluxDB
pinger_user: pinger
pinger_db_name: influx_db
pinger_db_url: http://influxdb.{{ startup_name }}:8086

influxdb: influxdb
influxdb_udp: udp://localhost:8089

telegraf_db_name: udp
telegraf_udp_port: 10514

# Backup
backup_user: backup
backup_server_ip: 192.168.42.132
backup_server_public_key: ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIEu6pFFWyuRrl4WGFPQGElYN9txwTGm2wSntcpVAaN90

node_id: "{{ (ansible_port / 100) | int }}"

# Keepalived
virtual_router_id: 11
ha_port: 88
